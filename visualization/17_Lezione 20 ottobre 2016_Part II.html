<html>

    <head>
        <script src="https://d3js.org/d3.v3.min.js"></script>
    
   
    </head>

    
    <body>
    
      <svg>     </svg>  
    
    
    <script>
    
        var data = d3.range(20).map(function(){
            return Math.random()
        })
        
        
        
        var genline = d3.svg.line()
                    .x(function(d,i){
                        return i*10
                    })
        
                    .y(function(d,i){
                        return d*100
                    })
                    .interpolate('basis')
        
        // return   i*10 è per aumentare la scala (0,10,20...)
        //d*100 aumenta la dimensione dell'asse y, altrimenti sarebbe d, e cioè 1 (1 pixel)
       
        var myPath = d3.select('svg')
                    .append('path')
        
        
        
        function draw(data){
        
        
         myPath.transition()   
        .attr('d', genline(data))
        .attr('fill', 'none')   
        .attr('stroke', 'purple')
        
        }
        
        d3.select('svg').on('click', function(){
            var data = d3.range(20).map(function(){  
                return Math.random()
            })
            draw(data)
            })
        
        
        </script>
    
    
    
    </body>

</html>